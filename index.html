<!--
 * Copyright (C) FrustratedProgrammer - All Rights Reserved
 * Unauthorized copying of this file, via any medium is strictly prohibited
 * Proprietary and confidential
 * Written by Elijah Anderson <contact@frustratedprogrammer>, April 2020
-->

<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title id="title"></title>
	<link href="fonts.css" rel="stylesheet">
	<link href="index.css" rel="stylesheet">
	<link href="step1.css" rel="stylesheet">
	<link href="step2.css" rel="stylesheet">
	<link href="step3.css" rel="stylesheet">
	<link href="step35.css" rel="stylesheet">
	<link href="step4.css" rel="stylesheet">
	<link href="step5.css" rel="stylesheet">
</head>
<body id="actual_body">
<div id="header">
	<button class="header_step_button" id="header_step_1">
		<span class="header_step_title">Step 1</span>
		<br>
		<span class="header_step_description">Choose spell book.</span>
	</button>
	<button class="header_step_button" id="header_step_2">
		<span class="header_step_title">Step 2</span>
		<br>
		<span class="header_step_description">Verify spells.</span>
	</button>
	<button class="header_step_button" id="header_step_3">
		<span class="header_step_title">Step 3</span>
		<br>
		<span class="header_step_description">Choose card style.</span>
	</button>
	<button class="header_step_button" id="header_step_35" style="display: none">
		<span class="header_step_title">3.5</span>
		<br>
		<span class="header_step_description">Custom Card Editing.</span>
	</button>
	<button class="header_step_button" id="header_step_4">
		<span class="header_step_title">Step 4</span>
		<br>
		<span class="header_step_description">Generating cards.</span>
	</button>
	<button class="header_step_button" id="header_step_5">
		<span class="header_step_title">Step 5</span>
		<br>
		<span class="header_step_description">Download cards.</span>
	</button>
</div>
<div id="body">
	<div id="error">
		<h1 id="error_name">ERROR</h1>
		<p id="error_exp" style="font-family: mplantin"></p>
		<p id="error_msg"></p>
		<button id="close_error" style="transform: translate(-50%,-50%); float: right;">Close</button>
	</div>
	<div id="step1" class="step" style="display: none;">
		<h1 id="step1_title">Choose Your Spell Book!</h1>
		<div style="display:flex;" class="class_selection">
			<button id="bard_selection">
				<img alt="Img of a ornate card with the BARD logo." src="./images/bard_back.png">
			</button>
			<button id="cleric_selection">
				<img alt="Img of a ornate card with the CLERIC logo." src="./images/cleric_back.png">
			</button>
			<button id="wizard_selection">
				<img alt="Img of a ornate card with the WIZARD logo." src="./images/wizard_back.png">
			</button>
			<button id="druid_selection">
				<img alt="Img of a ornate card with the DRUID logo." src="./images/druid_back.png">
			</button>
		</div>
		<div style="display:flex;" class="class_selection">
			<button id="sorcerer_selection">
				<img alt="Img of a ornate card with the SORCERER logo." src="./images/sorcerer_back.png">
			</button>
			<button id="warlock_selection">
				<img alt="Img of a ornate card with the WARLOCK logo." src="./images/warlock_back.png">
			</button>
			<button id="ranger_selection">
				<img alt="Img of a ornate card with the RANGER logo." src="./images/ranger_back.png">
			</button>
			<button id="paladin_selection">
				<img alt="Img of a ornate card with the PALADIN logo." src="./images/paladin_back.png">
			</button>
			<button id="custom_selection">
				<img alt="Img of a ornate card with a gear to symbolize CUSTOM." src="./images/custom_back.png">
			</button>
		</div>
	</div>
	<div id="step2" class="step" style="padding-top: 30px;">
		<button id="approve_step2">APPROVE</button>
		<h1 id="step2_title">Are these the spells?</h1>
		<span id="step2_subtitle">Check all these spells to double check you have all of your desired spells.<br>Hover over a spell for a while to get all of that spell's details.</span>
		<table id="step2_spell_list"></table>
	</div>
	<div id="step3" class="step">
		<div>
			<h1 id="step3_title">Note: backside of cards will be resized to match the size of the frontside</h1>
			<div id="step3_frontside" class="step3_img_choice_container">
				<select id="front_card_select">
					<option value="none" hidden selected disabled>Select Frontside</option>
					<option value="custom" disabled hidden id="step_3_front_custom"></option>
					<option>nBeebz's spell cards</option>
					<option>Colored template cards</option>
					<option>Classed template cards</option>
					<option class="step3_upload" id="front_select_upload">
						<button>Upload custom template</button>
					</option>
				</select>
				<input type="file" id="step3_front_hiddenInput" accept="image/*" style="display:none">
				
				<select style="display: none" id="select_front_for_colors">
					<option hidden selected disabled value="none">Select color</option>
					<option value="red">Dark Red</option>
					<option>Purple</option>
					<option>Orange</option>
					<option>Yellow</option>
					<option>Green</option>
					<option>Brown</option>
					<option>Blue</option>
					<option>Lime</option>
				</select>
				<select style="display: none" id="select_front_for_class">
					<option value="none" hidden selected disabled>Select class</option>
					<option>Bard</option>
					<option>Cleric</option>
					<option>Druid</option>
					<option>Paladin</option>
					<option>Ranger</option>
					<option>Sorcerer</option>
					<option>Warlock</option>
					<option>Wizard</option>
				
				</select>
				<div class="step3_img_container">
					<img alt="preview of what the front of the card would look like." id="step3_preview_front" src="">
				</div>
			</div>
			<div id="step3_backside" class="step3_img_choice_container">
				<select id="back_card_select">
					<option value="none" hidden selected disabled>Select Backside</option>
					<option value="custom" id="step_3_back_custom" hidden disabled></option>
					<option>None</option>
					<option>Class backgrounds</option>
					<option>Simple background</option>
					<option>Complex background</option>
					<option class="step3_upload">Upload background</option>
				</select>
				<input type="file" id="step3_back_hiddenInput" accept="image/*" style="display:none">
				<select style="display: none" id="select_back_for_class">
					<option value="none" hidden selected disabled>Select class</option>
					<option>Bard</option>
					<option>Cleric</option>
					<option>Druid</option>
					<option>Paladin</option>
					<option>Ranger</option>
					<option>Sorcerer</option>
					<option>Warlock</option>
					<option>Wizard</option>
				</select>
				<div class="step3_img_container">
					<img alt="preview of what the back of the card would look like." id="step3_preview_back">
				</div>
			</div>
			<button disabled id="step3_approve" class="none">Continue</button>
		</div>
	</div>
	<div id="step35" class="step" >
		<div id="step35_more_settings">
			<div class="step35_more_settings_box">
				<span>Text:</span>
				<input id="step35_settings_text" type="text">
			</div>
			<div class="step35_more_settings_box">
				<span>Font style:</span>
				<select id="step35_settings_fontStyle" style="width: 100%;">
					<option style="font-family: Serif">Serif</option>
					<option style="font-family: sans-serif">sans-serif</option>
					<option style="font-family: cursive">cursive</option>
					<option style="font-family: impact">impact</option>
					<option style="font-family: monospace">monospace</option>
					<option style="font-family: mplantin" selected>mplantin</option>
					<option style="font-family: ringbearer">ringbearer</option>
					<option style="font-family: widelatin">widelatin</option>
				</select>
			</div>
			<div class="step35_more_settings_box">
				<span>Font style:</span>
				<select id="step35_settings_textAlign" style="width: 100%;">
					<option selected>Left</option>
					<option>Center</option>
					<option>Right</option>
					</select>
			</div>
			<div class="step35_more_settings_box">
				<span>Font type:</span>
				<select id="step35_settings_fontSize_choice">
					<option>AUTO</option>
					<option>FIXED</option>
				</select>
			</div>
			<div class="step35_more_settings_box none step35_fontSize_hide">
				<span>Font size:</span>
				<input id="step35_settings_fontsize" type="number">
			</div>
			<br>
			<div class="step35_more_settings_box">
				<span>X:</span>
				<input id="step35_settings_x" type="number">
			</div>
			<div class="step35_more_settings_box">
				<span>Y:</span>
				<input id="step35_settings_y" type="number">
			</div>
			<div class="step35_more_settings_box">
				<span>Width:</span>
				<input id="step35_settings_width" type="number">
			</div>
			<div class="step35_more_settings_box">
				<span>Height:</span>
				<input id="step35_settings_height" type="number">
			</div>
		</div>
		<div>
			<h3>Place inputs on your template.</h3>
			<button id="step35_continue">Continue</button>
			<h1 id="step35_help">{ ? }</h1>
			<canvas id="step35Canvas" width="1000" height="350">
				Unfortunately Your browser or extensions don't support or is disabling the &lt;canvas>. Go back to Step
				3 and use a pre-made template.
			</canvas>
			<button id="step35_AddInput">Add Input</button>
			<div id="step35_simpleSettings" style="display: none;">
				<button id="step35_edittext">Edit Text</button>
				<button id="step35_delete">Delete <img alt="Image of a trashcan." src="images/TrashCan.png"></button>
				<button id="step35_more">More...</button>
			</div>
		</div>
	</div>
	<div id="step4" class="step">
		<h1 id="step4_generating">Generating. . .</h1>
		<img src="images/Loading.svg" style="display: block; margin-left: auto; margin-right: auto;">
		<span id="step4_updates"></span>
		<span id="step4_detailed"></span>
		<span id="step4_length">This tends to take several minutes. Please be patient.</span>
	</div>
	<div id="step5" class="step">
		<h1 id="step5_generating">Generating. . .</h1>
		<img src="images/Loading.svg" style="display: block; margin-left: auto; margin-right: auto;">
		<iframe id="step5_frame"></iframe>
		<canvas id="step5Canvas" style="display: none"/>
	</div>
	<div id="popup1" class="popup">
		<div id="popup1_container" class="popup_container">
			<div id="popup1_body" class="popup_body">
				<h3>What does each spell need to be included?</h3>
				<div>
					<div id="popup_custom_spells_school_group" class="popup_custom_spells_group">
						<span id="popup_custom_spells_school_group_title" class="popup_custom_spells_group_title">Schools</span>
						<div>
							<div style="display: flex">
								<div class="popup_custom_spells_school_item popup_custom_spells_item">
									<img src="images/icons/icon_abjuration.png">
									<span>Abjuration</span>
								</div>
								<div class="popup_custom_spells_school_item popup_custom_spells_item">
									<img src="images/icons/icon_conjuration.png">
									<span>Conjuration</span>
								</div>
								<div class="popup_custom_spells_school_item popup_custom_spells_item">
									<img src="images/icons/icon_divination.png">
									<span>Divination</span>
								</div>
								<div class="popup_custom_spells_school_item popup_custom_spells_item">
									<img src="images/icons/icon_evocation.png">
									<span>Evocation</span>
								</div>
							</div>
							<div style="display: flex">
								<div class="popup_custom_spells_school_item popup_custom_spells_item">
									<img src="images/icons/icon_enchantment.png">
									<span>Enchantment</span>
								</div>
								<div class="popup_custom_spells_school_item popup_custom_spells_item">
									<img src="images/icons/icon_illusion.png">
									<span>Illusion</span>
								</div>
								<div class="popup_custom_spells_school_item popup_custom_spells_item">
									<img src="images/icons/icon_necromancy.png">
									<span>Necromancy</span>
								</div>
								<div class="popup_custom_spells_school_item popup_custom_spells_item">
									<img src="images/icons/icon_transmutation.png">
									<span>Transmutation</span>
								</div>
							</div>
						</div>
					</div>
					<div id="popup_custom_spells_class_group" class="popup_custom_spells_group">
                        <span id="popup_custom_spells_class_group_title"
							  class="popup_custom_spells_group_title">Class</span>
						<div id="popup_custom_spells_class_andor" class="popup_custom_spells_andor">
							<button>OR</button>
							<button>AND</button>
						</div>
						<div>
							<div style="display: flex">
								<div class="popup_custom_spells_class_item popup_custom_spells_item">
									<img src="images/icons/class_bard.png">
									<span>Bard</span>
								</div>
								<div class="popup_custom_spells_class_item popup_custom_spells_item">
									<img src="images/icons/class_cleric.png">
									<span>Cleric</span>
								</div>
								<div class="popup_custom_spells_class_item popup_custom_spells_item">
									<img src="images/icons/class_druid.png">
									<span>Druid</span>
								</div>
								<div class="popup_custom_spells_class_item popup_custom_spells_item">
									<img src="images/icons/class_paladin.png">
									<span>Paladin</span>
								</div>
							</div>
							<div style="display: flex">
								<div class="popup_custom_spells_class_item popup_custom_spells_item">
									<img src="images/icons/class_ranger.png">
									<span>Ranger</span>
								</div>
								<div class="popup_custom_spells_class_item popup_custom_spells_item">
									<img src="images/icons/class_sorcerer.png">
									<span>Sorcerer</span>
								</div>
								<div class="popup_custom_spells_class_item popup_custom_spells_item">
									<img src="images/icons/class_warlock.png">
									<span>Warlock</span>
								</div>
								<div class="popup_custom_spells_class_item popup_custom_spells_item">
									<img src="images/icons/class_wizard.png">
									<span>Wizard</span>
								</div>
							</div>
						</div>
					</div>
					<div id="popup_custom_spells_other_group">
                        <span id="popup_custom_spells_other_group_title"
							  class="popup_custom_spells_group_title">Other</span>
						<div>
							<div class="popup_custom_spells_checkboxes_grid">
								<div class="popup_custom_spells_checkbox_group">
									<span><input type="checkbox" id="somatic">Somatic</span>
								</div>
								<div class="popup_custom_spells_checkbox_group">
									<span><input type="checkbox" id="verbal">Verbal</span>
								</div>
							</div>
							<div class="popup_custom_spells_checkboxes_grid">
								<div class="popup_custom_spells_checkbox_group">
									<span><input type="checkbox" id="ritual">Ritual</span>
								</div>
								<div class="popup_custom_spells_checkbox_group">
									<span><input type="checkbox" id="material">Material</span>
								</div>
							</div>
							<div class="popup_custom_spells_checkbox_group">
								<span><input type="checkbox" id="concentration">Concentration</span>
							</div>
							<div class="popup_custom_spells_checkbox_group">
                                <span><input type="number" id="level_low" class="remove_arrows"><span
										style="font-size: 150%">-</span><input
										class="remove_arrows" type="number"
										id="level_high"> Level</span>
							</div>
							<div class="popup_custom_spells_checkbox_group">
                                <span> Range
                                    <select id="popup_range_select">
                                        <option selected value="any">Any range</option>
                                        <option value="touch">Touch</option>
                                        <option value="self">Self</option>
                                        <option value="number">&lt;number></option>
                                    </select>
                                    <span id="popup_range_number"><input type="number" class="remove_arrows"
																		 id="range_low"><span
											style="font-size: 150%">-</span><input type="number" class="remove_arrows"
																				   id="range_high">ft</span>
                                </span>
							</div>
						</div>
					</div>
					<div id="popup_custom_spells_code">
                        <span id="popup_custom_spells_code_group_title"
							  class="popup_custom_spells_group_title">Code <span
								id="popup_custom_spells_code_hover">{ }</span></span>
						<textarea type="text" id="popup_custom_spells_code_textarea"></textarea>
					</div>
					<button id="popup1_done">Done</button>
				</div>
			</div>
		</div>
	</div>
	<div id="popup2" class="popup">
		<div id="popup2_container" class="popup_container">
			<div id="popup2_body" class="popup_body">
				<h3>Text Editing Help.</h3>
				<span>All templates <code>{text}</code> will be replaced with their corresponding ending</span>
				<table>
					<tr>
						<th>TEMPLATE</th>
						<th>ENDING</th>
					</tr>
					<tr>
						<td class="popup2_template"step35_help>{title}</td>
						<td>The title of the spell.</td>
					</tr>
					<tr>
						<td class="popup2_template">{school}</td>
						<td>The school of the spell.</td>
					</tr>
					<tr>
						<td class="popup2_template">{level}</td>
						<td>The spell level.</td>
					</tr>
					<tr>
						<td class="popup2_template">{duration}</td>
						<td>The duration of the spell.</td>
					</tr>
					<tr>
						<td class="popup2_template">{range}</td>
						<td>The range of the spell.</td>
					</tr>
					<tr>
						<td class="popup2_template">{casting}</td>
						<td>The casting time required for the spell.</td>
					</tr>
					<tr>
						<td class="popup2_template">{materials}</td>
						<td>The materials required for the spell.</td>
					</tr>
					<tr>
						<td class="popup2_template">{description}</td>
						<td>The description of the spell.</td>
					</tr>
					<tr>
						<td class="popup2_template">{athigherlevel}</td>
						<td>What the spell does at higher levels.</td>
					</tr>
				</table>
			</div>
		</div>
	</div>
	<div id="popup3" class="popup">
		<div id="popup3_container" class="popup_container">
			<div id="popup3_body" class="popup_body">
				<h3>Missing spells? Add them here</h3>
				<p>This only TEMPORARILY adds the spells, as I cannot legally distribute them.</p>
				<table>
					<tr>
						<td><input id="addspell_title" placeholder="title"></td>
						<td><input id="addspell_level" placeholder="level" type="number"></td>
						<td></td>
					</tr>
				</table>
				<!-- TODO: Add the ability to add spells. -->
			</div>
		</div>
	</div>

</div>
<div id="footer">
	<p>Created by <a target="_blank" rel="noopener noreferrer" href="http://frustratedprogrammer.com">Elijah
		Anderson</a>.<br>Full credit and licences can be found: <a target="_blank" rel="noopener noreferrer"
																   href="./credits.html">Here</a></p>
	<p style="margin-left: 15px; width: 34%;">Note: Spells here are only spells in the SRD that are legally allowed to be distributed. To temporarily add spells click <button id="addSpells">here</button></p>
	<div id="becomePatreon">
		<a style="height: inherit; width: inherit" href="https://www.patreon.com/bePatron?u=32078542">
			<img style="height: inherit; width: inherit" src="./images/become_a_patron_button.png"
				 alt="Become a patron button.">
		</a>
	</div>
	<div id="buyCoffee">
		<style>.bmc-button img {
			width: 35px !important;
			margin-bottom: 1px !important;
			box-shadow: none !important;
			border: none !important;
			vertical-align: middle !important;
		}
		
		.bmc-button {
			padding: 7px 10px 7px 10px !important;
			line-height: 35px !important;
			height: 51px !important;
			min-width: 217px !important;
			text-decoration: none !important;
			display: inline-flex !important;
			color: #FFFFFF !important;
			background-color: #5F7FFF !important;
			border-radius: 5px !important;
			border: 1px solid transparent !important;
			padding: 7px 10px 7px 10px !important;
			font-size: 20px !important;
			letter-spacing: 0.6px !important;
			box-shadow: 0px 1px 2px rgba(190, 190, 190, 0.5) !important;
			-webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;
			margin: 0 auto !important;
			font-family: 'Arial', cursive !important;
			-webkit-box-sizing: border-box !important;
			box-sizing: border-box !important;
			-o-transition: 0.3s all linear !important;
			-webkit-transition: 0.3s all linear !important;
			-moz-transition: 0.3s all linear !important;
			-ms-transition: 0.3s all linear !important;
			transition: 0.3s all linear !important;
		}
		
		.bmc-button:hover, .bmc-button:active, .bmc-button:focus {
			-webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;
			text-decoration: none !important;
			box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;
			opacity: 0.85 !important;
			color: #FFFFFF !important;
		}</style>
		<link href="https://fonts.googleapis.com/css?family=Cookie" rel="stylesheet">
		<a class="bmc-button" target="_blank" href="https://www.buymeacoffee.com/Frustrated"><img
				src="https://cdn.buymeacoffee.com/buttons/bmc-new-btn-logo.svg" alt="Buy me a coffee"><span
				style="margin-left:15px;font-size:19px !important;">Buy me a coffee</span></a>
	</div>
</div>
</body>
<script src="./pdfkit.standalone.js"></script>
<script src="./browsered.js"></script>
</html>
